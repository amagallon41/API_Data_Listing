---
// Import Stylesheet
import '../styles/global.css';

// data source
const source = 'https://v2.jokeapi.dev/joke/Any?amount=10';
// fetch the data
const res = await fetch(source); 
// store retreived data
const data = await res.json()
.then((data) => {
	return data.jokes;
})
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />

        <!-- Normalize CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">

        <title>Daily Dose of Jokes</title>
    </head>
    <body>
        
        <header class="masthead">
            <h1 class="site-title">Daily Dose of Jokes</h1>
        </header>

        <main id="content" class="main-area">
			<ul class="cards">
				{data.map((item) => (
					<li>
						<h2>Joke: {item.setup}</h2>
						<p>Delivery: {item.delivery}</p>
					</li>
                ))}
            </ul>
        </main>
    </body>
</html>